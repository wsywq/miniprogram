<!-- pages/profile/profile.wxml - 个人中心页面模板 -->
<view class="container">
  <!-- 用户信息头部 -->
  <view class="profile-header">
    <view class="user-info">
      <view class="user-avatar" bindtap="editProfile">
        <image wx:if="{{userInfo.avatar}}" src="{{userInfo.avatar}}" class="avatar-image"/>
        <text wx:else class="avatar-placeholder">{{userInfo.nickname ? userInfo.nickname.charAt(0) : 'U'}}</text>
        <view class="edit-icon">✏️</view>
      </view>
      <view class="user-details">
        <text class="user-name">{{userInfo.nickname || '用户'}}</text>
        <text class="join-info">加入 {{stats.joinDays}} 天</text>
      </view>
    </view>
  </view>

  <!-- 数据统计 -->
  <view class="stats-section">
    <view class="stat-item">
      <text class="stat-number">{{stats.totalHabits}}</text>
      <text class="stat-label">习惯数</text>
    </view>
    <view class="stat-item">
      <text class="stat-number">{{stats.totalCheckins}}</text>
      <text class="stat-label">总打卡</text>
    </view>
    <view class="stat-item">
      <text class="stat-number">{{stats.totalPoints}}</text>
      <text class="stat-label">总积分</text>
    </view>
  </view>

  <!-- 设置选项 -->
  <view class="settings-section">
    <!-- 通知设置 -->
    <view class="setting-group">
      <view class="group-title">通知设置</view>
      
      <view class="setting-item">
        <view class="setting-info">
          <text class="setting-name">推送通知</text>
          <text class="setting-desc">接收习惯提醒通知</text>
        </view>
        <switch 
          checked="{{settings.notifications}}" 
          bindchange="toggleNotifications"
          color="{{primaryColor}}"
        />
      </view>
      
      <view class="setting-item" bindtap="setReminderTime">
        <view class="setting-info">
          <text class="setting-name">提醒时间</text>
          <text class="setting-desc">设置每日提醒时间</text>
        </view>
        <view class="setting-value">
          <text class="value-text">{{settings.reminderTime}}</text>
          <text class="arrow">></text>
        </view>
      </view>
    </view>

    <!-- 个性化设置 -->
    <view class="setting-group">
      <view class="group-title">个性化</view>
      
      <view class="setting-item" bindtap="switchTheme">
        <view class="setting-info">
          <text class="setting-name">主题外观</text>
          <text class="setting-desc">选择应用主题</text>
        </view>
        <view class="setting-value">
          <text class="value-text">{{getThemeName(settings.theme)}}</text>
          <text class="arrow">></text>
        </view>
      </view>
    </view>

    <!-- 数据设置 -->
    <view class="setting-group">
      <view class="group-title">数据管理</view>
      
      <view class="setting-item">
        <view class="setting-info">
          <text class="setting-name">自动同步</text>
          <text class="setting-desc">自动同步数据到云端</text>
        </view>
        <switch 
          checked="{{settings.autoSync}}" 
          bindchange="toggleAutoSync"
          color="{{primaryColor}}"
        />
      </view>
      
      <view class="setting-item" bindtap="exportData">
        <view class="setting-info">
          <text class="setting-name">数据导出</text>
          <text class="setting-desc">导出您的习惯数据</text>
        </view>
        <view class="setting-value">
          <text class="arrow">></text>
        </view>
      </view>
      
      <view class="setting-item" bindtap="clearCache">
        <view class="setting-info">
          <text class="setting-name">清除缓存</text>
          <text class="setting-desc">清理本地缓存数据</text>
        </view>
        <view class="setting-value">
          <text class="arrow">></text>
        </view>
      </view>
    </view>

    <!-- 帮助与支持 -->
    <view class="setting-group">
      <view class="group-title">帮助与支持</view>
      
      <view class="setting-item" bindtap="feedback">
        <view class="setting-info">
          <text class="setting-name">意见反馈</text>
          <text class="setting-desc">告诉我们您的建议</text>
        </view>
        <view class="setting-value">
          <text class="arrow">></text>
        </view>
      </view>
      
      <view class="setting-item" bindtap="about">
        <view class="setting-info">
          <text class="setting-name">关于我们</text>
          <text class="setting-desc">版本信息和团队介绍</text>
        </view>
        <view class="setting-value">
          <text class="arrow">></text>
        </view>
      </view>
      
      <view class="setting-item" bindtap="privacy">
        <view class="setting-info">
          <text class="setting-name">隐私政策</text>
          <text class="setting-desc">了解我们如何保护您的隐私</text>
        </view>
        <view class="setting-value">
          <text class="arrow">></text>
        </view>
      </view>
    </view>
  </view>

  <!-- 分享推荐 -->
  <view class="share-section">
    <button class="btn btn-outline btn-large" open-type="share">
      推荐给朋友
    </button>
  </view>

  <!-- 退出登录 -->
  <view class="logout-section">
    <button class="btn btn-outline logout-btn" bindtap="logout">
      退出登录
    </button>
  </view>

  <!-- 版本信息 -->
  <view class="version-info">
    <text class="version-text">版本 {{version}}</text>
  </view>
</view>
